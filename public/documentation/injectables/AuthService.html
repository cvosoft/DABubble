<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>dabubble documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">dabubble documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >AuthService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/shared/services/auth.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#avatarCache" >avatarCache</a>
                            </li>
                            <li>
                                <a href="#currentUser" >currentUser</a>
                            </li>
                            <li>
                                <a href="#isUserAuthenticated" >isUserAuthenticated</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#loadingSpinnerBoard" >loadingSpinnerBoard</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#loginType" >loginType</a>
                            </li>
                            <li>
                                <a href="#userData" >userData</a>
                            </li>
                            <li>
                                <a href="#userId" >userId</a>
                            </li>
                            <li>
                                <a href="#userList" >userList</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#clearAuthState" >clearAuthState</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getUserList" >getUserList</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#googleLogin" >googleLogin</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#guestLogin" >guestLogin</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#initGoogleLogin" >initGoogleLogin</a>
                            </li>
                            <li>
                                <a href="#intializeUserData" >intializeUserData</a>
                            </li>
                            <li>
                                <a href="#isAuthenticated" >isAuthenticated</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#loadUserData" >loadUserData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#login" >login</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#logout" >logout</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#logoutAnonymousUser" >logoutAnonymousUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#logoutUser" >logoutUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#monitorAuthState" >monitorAuthState</a>
                            </li>
                            <li>
                                <a href="#redirectIfAuthenticated" >redirectIfAuthenticated</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#register" >register</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#registerUSer" >registerUSer</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#setNewGustObject" >setNewGustObject</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateFireStoreData" >updateFireStoreData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateUserData" >updateUserData</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(auth: Auth, firestore: Firestore, router: Router, toastMessageService: <a href="../injectables/ToastMessageService.html" target="_self">ToastMessageService</a>, userService: <a href="../injectables/UserService.html" target="_self">UserService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/app/shared/services/auth.service.ts:40</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>Initializes the AuthService.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>auth</td>
                                                  
                                                        <td>
                                                                    <code>Auth</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>The Firestore authentication service.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>firestore</td>
                                                  
                                                        <td>
                                                                    <code>Firestore</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>The Firestore database service.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>router</td>
                                                  
                                                        <td>
                                                                    <code>Router</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>The Angular router service.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>toastMessageService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ToastMessageService.html" target="_self" >ToastMessageService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>The ToastMessageService which provides toast messages.</li>
</ul>

                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>userService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/UserService.html" target="_self" >UserService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <ul>
<li>The UserService which provides user data.</li>
</ul>

                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="clearAuthState"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>clearAuthState</b></span>
                        <a href="#clearAuthState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>clearAuthState()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="88"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:88</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Clears the authentication state of the user.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserList"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>getUserList</b></span>
                        <a href="#getUserList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getUserList()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="335"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:335</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns an observable that emits the list of all users in the Firestore database.
When the list of users is received from Firestore, it stores the list in the <code>userList</code> observable and emits the list.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/UserModel.html" target="_self" >Observable&lt;UserModel[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                <p>An observable that emits the list of all users in the Firestore database.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="googleLogin"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>googleLogin</b></span>
                        <a href="#googleLogin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>googleLogin()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="223"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:223</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Logs in an existing user using Google authentication.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the login operation is complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="guestLogin"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>guestLogin</b></span>
                        <a href="#guestLogin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>guestLogin()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="178"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:178</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Logs in an anonymous guest user.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the login operation is complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initGoogleLogin"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>initGoogleLogin</b></span>
                        <a href="#initGoogleLogin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>initGoogleLogin()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="235"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:235</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Initializes the Google login process.
Uses the <code>signInWithPopup</code> method with the Google provider to authenticate the user.
On success, sets the user data in Firestore and loads the user data.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the login operation is complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="intializeUserData"></a>
                    <span class="name">
                        <span ><b>intializeUserData</b></span>
                        <a href="#intializeUserData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>intializeUserData()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="260"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:260</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Initializes the user data in the user data subject.
If the user data is present in the session storage, it is retrieved and set in the user data subject.
This is used to retain the user data between page reloads.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isAuthenticated"></a>
                    <span class="name">
                        <span ><b>isAuthenticated</b></span>
                        <a href="#isAuthenticated"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isAuthenticated()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="100"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:100</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Checks if the user is authenticated.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </div>
                            <div class="io-description">
                                <p>True if the user is authenticated, false otherwise.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadUserData"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>loadUserData</b></span>
                        <a href="#loadUserData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>loadUserData(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="319"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:319</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Loads the user data for the given user ID from Firestore and sets it to the <code>userData</code> observable.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The ID of the user to load the data for.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the user data is loaded from Firestore.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="login"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>login</b></span>
                        <a href="#login"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>login(email: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, password: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="161"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:161</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Logs in an existing user with the given email and password.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>email</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The email address of the user.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>password</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The password of the user.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the login operation is complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logout"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>logout</b></span>
                        <a href="#logout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>logout()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="272"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:272</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Logs out the currently logged in user.
If the user is a real user, it calls the <code>logoutUser</code> method.
If the user is an anonymous guest user, it calls the <code>logoutAnonymousUser</code> method.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the logout operation is complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logoutAnonymousUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>logoutAnonymousUser</b></span>
                        <a href="#logoutAnonymousUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>logoutAnonymousUser()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="303"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:303</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Logs out the current anonymous user.
It deletes the anonymous user object from Firestore, signs out the user, clears the authentication state, and navigates to the login page.
If an error occurs during the logout process, it logs the error to the console.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the logout operation is complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logoutUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>logoutUser</b></span>
                        <a href="#logoutUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>logoutUser(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="286"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:286</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Logs out the user with the given user ID.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The unique identifier of the user to be logged out.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the logout operation is complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="monitorAuthState"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>monitorAuthState</b></span>
                        <a href="#monitorAuthState"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>monitorAuthState()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="72"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:72</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Monitors the authentication state of the user.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="redirectIfAuthenticated"></a>
                    <span class="name">
                        <span ><b>redirectIfAuthenticated</b></span>
                        <a href="#redirectIfAuthenticated"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>redirectIfAuthenticated()</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="356"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:356</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Redirects the user to the board route if the user is authenticated.
Otherwise, redirects the user to the root route.
This method is used to redirect the user after a successful login operation.
The redirect is delayed by 4 seconds to allow the user to see the login success message.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="register"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>register</b></span>
                        <a href="#register"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>register(email: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, password: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, photoURL: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="113"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:113</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Registers a new user using the given email, password, name, and profile picture URL.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>email</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The email address of the user.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>password</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The password of the user.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The name of the user.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>photoURL</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The URL of the profile picture of the user.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the user has been successfully registered.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="registerUSer"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>registerUSer</b></span>
                        <a href="#registerUSer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>registerUSer(email: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, password: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, name: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, photoURL: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="135"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:135</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Registers a new user with the specified email, password, name, and photoURL.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>email</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The email address of the user.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>password</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The password for the user&#39;s account.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>name</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The name of the user.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>photoURL</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The URL of the user&#39;s profile picture.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when all operations are complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setNewGustObject"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>setNewGustObject</b></span>
                        <a href="#setNewGustObject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setNewGustObject(user: User, userData: <a href="../classes/UserModel.html" target="_self">UserModel</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="198"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:198</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creates a new guest user object in Firestore.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                        <code>User</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The user object.</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>userData</td>
                                            <td>
                                                            <code><a href="../classes/UserModel.html" target="_self" >UserModel</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>The user data object.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the operation is complete.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateFireStoreData"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateFireStoreData</b></span>
                        <a href="#updateFireStoreData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateFireStoreData(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, updatedData: <a href="../classes/UserModel.html" target="_self">Partial&lt;UserModel&gt;</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="385"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:385</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Updates the user data in Firestore and in the Firebase Authentication service.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The ID of the user to update.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>updatedData</td>
                                            <td>
                                                            <code><a href="../classes/UserModel.html" target="_self" >Partial&lt;UserModel&gt;</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The data to update for the user.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the user data is updated.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateUserData"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updateUserData</b></span>
                        <a href="#updateUserData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateUserData(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, updatedData: <a href="../classes/UserModel.html" target="_self">Partial&lt;UserModel&gt;</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="370"
                                    class="link-to-prism">src/app/shared/services/auth.service.ts:370</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Updates the user data in Firestore and in the Firebase Authentication service.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The ID of the user to update.</p>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>updatedData</td>
                                            <td>
                                                            <code><a href="../classes/UserModel.html" target="_self" >Partial&lt;UserModel&gt;</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>The data to update for the user.</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                <p>A promise that resolves when the user data is updated.</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="avatarCache"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>avatarCache</b></span>
                        <a href="#avatarCache"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Map&lt;string, string&gt;()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="33" class="link-to-prism">src/app/shared/services/auth.service.ts:33</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="currentUser"></a>
                    <span class="name">
                        <span ><b>currentUser</b></span>
                        <a href="#currentUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;UserModel | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="40" class="link-to-prism">src/app/shared/services/auth.service.ts:40</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isUserAuthenticated"></a>
                    <span class="name">
                        <span ><b>isUserAuthenticated</b></span>
                        <a href="#isUserAuthenticated"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;boolean&gt;(false)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="36" class="link-to-prism">src/app/shared/services/auth.service.ts:36</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loadingSpinnerBoard"></a>
                    <span class="name">
                            <span class="modifier">Public</span>
                        <span ><b>loadingSpinnerBoard</b></span>
                        <a href="#loadingSpinnerBoard"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="38" class="link-to-prism">src/app/shared/services/auth.service.ts:38</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="loginType"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>loginType</b></span>
                        <a href="#loginType"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;&#x27;guest&#x27; | &#x27;google&#x27; | &#x27;email&#x27; | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="39" class="link-to-prism">src/app/shared/services/auth.service.ts:39</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userData"></a>
                    <span class="name">
                        <span ><b>userData</b></span>
                        <a href="#userData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;UserModel | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="35" class="link-to-prism">src/app/shared/services/auth.service.ts:35</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userId"></a>
                    <span class="name">
                        <span ><b>userId</b></span>
                        <a href="#userId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;string | null&gt;(null)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="34" class="link-to-prism">src/app/shared/services/auth.service.ts:34</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userList"></a>
                    <span class="name">
                        <span ><b>userList</b></span>
                        <a href="#userList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>signal&lt;UserModel[]&gt;([])</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="37" class="link-to-prism">src/app/shared/services/auth.service.ts:37</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, signal } from &#x27;@angular/core&#x27;;
import {
  Auth,
  User,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signInAnonymously,
  signInWithPopup,
  onAuthStateChanged,
  GoogleAuthProvider,
} from &#x27;@angular/fire/auth&#x27;;
import {
  Firestore,
  doc,
  setDoc,
  getDoc,
  updateDoc,
  collection,
  onSnapshot,
  deleteDoc,
  arrayUnion,
} from &#x27;@angular/fire/firestore&#x27;;
import { Router } from &#x27;@angular/router&#x27;;
import { UserModel } from &#x27;../../models/user&#x27;;
import { ToastMessageService } from &#x27;./toastmessage.service&#x27;;
import { Observable } from &#x27;rxjs&#x27;;
import { UserService } from &#x27;./user.service&#x27;;

@Injectable({
  providedIn: &#x27;root&#x27;,
})
export class AuthService {
  public avatarCache &#x3D; new Map&lt;string, string&gt;();
  userId &#x3D; signal&lt;string | null&gt;(null);
  userData &#x3D; signal&lt;UserModel | null&gt;(null);
  isUserAuthenticated &#x3D; signal&lt;boolean&gt;(false);
  userList &#x3D; signal&lt;UserModel[]&gt;([]);
  public loadingSpinnerBoard: boolean &#x3D; true;
  private loginType &#x3D; signal&lt;&#x27;guest&#x27; | &#x27;google&#x27; | &#x27;email&#x27; | null&gt;(null);
  currentUser &#x3D; signal&lt;UserModel | null&gt;(null);   
  
  /**
   * Initializes the AuthService.
   * @param auth - The Firestore authentication service.
   * @param firestore - The Firestore database service.
   * @param router - The Angular router service.
   * @param toastMessageService - The ToastMessageService which provides toast messages.
   * @param userService - The UserService which provides user data.
   */
  constructor(
    private auth: Auth,
    private firestore: Firestore,
    private router: Router,
    private toastMessageService: ToastMessageService,
    private userService: UserService
  ) {
    onAuthStateChanged(this.auth, (firebaseUser: User | null) &#x3D;&gt; {
      if (firebaseUser) {
        const userModel &#x3D; new UserModel(firebaseUser);
        this.currentUser.set(userModel);
      } else 
        this.currentUser.set(null);
    });
    this.monitorAuthState();
    this.intializeUserData();
  }


  /**
   * Monitors the authentication state of the user.
   */
  private monitorAuthState(): void {
    onAuthStateChanged(this.auth, (user) &#x3D;&gt; {
      if (user) {
        this.isUserAuthenticated.set(true);
        this.userId.set(user.uid);
        if (this.router.url &#x3D;&#x3D;&#x3D; &#x27;/&#x27;) 
          this.redirectIfAuthenticated();
      } else 
        this.clearAuthState();
    });
  }


  /**
   * Clears the authentication state of the user.
   */
  private clearAuthState(): void {
    this.userId.set(null);
    this.isUserAuthenticated.set(false);
    this.loginType.set(null);
    sessionStorage.removeItem(&#x27;userData&#x27;);
  }


  /**
   * Checks if the user is authenticated.
   * @returns True if the user is authenticated, false otherwise.
   */
  isAuthenticated(): boolean {
    return !!this.auth.currentUser || this.isUserAuthenticated();
  }


  /**
   * Registers a new user using the given email, password, name, and profile picture URL.
   * @param email - The email address of the user.
   * @param password - The password of the user.
   * @param name - The name of the user.
   * @param photoURL - The URL of the profile picture of the user.
   * @returns A promise that resolves when the user has been successfully registered.
   */
  async register( email: string, password: string, name: string, photoURL: string): Promise&lt;void&gt; {
    try {
      await this.registerUSer(email, password, name, photoURL);
    } catch (error) {
      console.error(&#x27;Registration failed:&#x27;, error);
    } finally {
      this.router.navigate([&#x27;&#x27;]);
      setTimeout(() &#x3D;&gt; {
        this.toastMessageService.showToastSignal(&#x27;Erfolgreich registriert&#x27;);
      }, 1000);
    }
  }


  /**
   * Registers a new user with the specified email, password, name, and photoURL.
   * @param email - The email address of the user.
   * @param password - The password for the user&#x27;s account.
   * @param name - The name of the user.
   * @param photoURL - The URL of the user&#x27;s profile picture.
   * @returns A promise that resolves when all operations are complete.
   */
  async registerUSer(email: string, password: string, name: string, photoURL: string) {
    const userCredential &#x3D; await createUserWithEmailAndPassword(this.auth,email,password);
    const user &#x3D; userCredential.user;
    const userData &#x3D; this.userService.setUserData(user.uid,name || &#x27;&#x27;,user.email || &#x27;&#x27;,photoURL || &#x27;&#x27;,&#x27;password&#x27;);
    await setDoc(doc(this.firestore, &#x27;users&#x27;, user.uid), userData);
    const docRefChannel1 &#x3D; doc(this.firestore, &#x27;channels&#x27;, &quot;vfphslFFYLqC4hHHlM8y&quot;);
    await updateDoc(docRefChannel1, { members: arrayUnion(user.uid)});
    const docRefChannel2 &#x3D; doc(this.firestore, &#x27;channels&#x27;, &quot;q6m6NQIQepOmjULyneBJ&quot;);
    await updateDoc(docRefChannel2, {members: arrayUnion(user.uid)});
    await setDoc(doc(this.firestore, &#x27;channels&#x27;, user.uid), {
      createdAt: new Date(),
      isPrivate: true,
      createdBy: user.uid,
      description: userData.name,
      name: userData.name,
      members: [user.uid],
    });
  }


  /**
   * Logs in an existing user with the given email and password.
   * @param email - The email address of the user.
   * @param password - The password of the user.
   * @returns A promise that resolves when the login operation is complete.
   */
  async login(email: string, password: string): Promise&lt;void&gt; {
    try {
      const userCredential &#x3D; await signInWithEmailAndPassword(this.auth,email,password);
      this.userId.set(userCredential.user.uid);
      this.userService.updateDataInFirestore(userCredential.user.uid, { status: true });
      await this.loadUserData(userCredential.user.uid);
      setTimeout(() &#x3D;&gt; {
        this.toastMessageService.showToastSignal(&#x27;Erfolgreich eingeloggt&#x27;);
      }, 1000);
    } catch (error) {this.userService.handleLoginError(error);}
  }


  /**
   * Logs in an anonymous guest user.
   * @returns A promise that resolves when the login operation is complete.
   */
  async guestLogin(): Promise&lt;void&gt; {
    try {
      const userCredential &#x3D; await signInAnonymously(this.auth);
      const user &#x3D; userCredential.user;
      const userData &#x3D; this.userService.setAnonymousUserData(user.uid);
      await this.setNewGustObject(user, userData);  
      await this.loadUserData(user.uid);
      setTimeout(() &#x3D;&gt; {
        this.toastMessageService.showToastSignal(&#x27;Erfolgreich eingeloggt&#x27;);
      }, 1000);
    } catch (error) {console.error(&#x27;Anonymous login failed:&#x27;, error);}
  }


  /**
   * Creates a new guest user object in Firestore.
   * @param user - The user object.
   * @param userData - The user data object.
   * @returns A promise that resolves when the operation is complete.
   */
  async setNewGustObject(user: User, userData: UserModel): Promise&lt;void&gt; {
    await setDoc(doc(this.firestore, &#x60;users/${user.uid}&#x60;), userData);
    await setDoc(doc(this.firestore, &#x27;channels&#x27;, user.uid), {
      createdAt: new Date(),
      isPrivate: true,
      createdBy: user.uid,
      description: userData.name,
      name: userData.name,
      members: [user.uid],
    });
    await setDoc(doc(this.firestore, &#x27;channels&#x27;, &#x27;guestsonly&#x27;), {
      createdAt: new Date(),
      isPrivate: false,
      createdBy: &quot;admin&quot;,
      description: &quot;Gäste only&quot;,
      name: &quot;Gäste only&quot;,
      members: [user.uid],
    });      
  }


  /**
   * Logs in an existing user using Google authentication.
   * @returns A promise that resolves when the login operation is complete.
   */
  async googleLogin(): Promise&lt;void&gt; {
    try {this.initGoogleLogin()}
    catch (error) {console.error(&#x27;Google login failed:&#x27;, error)}
  }


  /**
   * Initializes the Google login process.
   * Uses the &#x60;signInWithPopup&#x60; method with the Google provider to authenticate the user.
   * On success, sets the user data in Firestore and loads the user data.
   * @returns A promise that resolves when the login operation is complete.
   */
  async initGoogleLogin() {
    const provider &#x3D; new GoogleAuthProvider();
    const result &#x3D; await signInWithPopup(this.auth, provider);
    const user &#x3D; result.user;
    const userData &#x3D; this.userService.setUserData(
      user.uid,
      user.displayName || &#x27;&#x27;,
      user.email || &#x27;&#x27;,
      &#x27;img/avatars/picPlaceholder.svg&#x27;,
      user.providerData[0].providerId || &#x27;&#x27;,
      true
    );
    await setDoc(doc(this.firestore, &#x60;users/${user.uid}&#x60;), userData);
    await this.loadUserData(user.uid);
    setTimeout(() &#x3D;&gt; {
      this.toastMessageService.showToastSignal(&#x27;Erfolgreich eingeloggt&#x27;);
    }, 1000);
  }


  /**
   * Initializes the user data in the user data subject.
   * If the user data is present in the session storage, it is retrieved and set in the user data subject.
   * This is used to retain the user data between page reloads.
   */
  intializeUserData() {
    if (sessionStorage.getItem(&#x27;userData&#x27;)) 
      this.userData.set(JSON.parse(sessionStorage.getItem(&#x27;userData&#x27;) || &#x27;{}&#x27;));
  }


  /**
   * Logs out the currently logged in user.
   * If the user is a real user, it calls the &#x60;logoutUser&#x60; method.
   * If the user is an anonymous guest user, it calls the &#x60;logoutAnonymousUser&#x60; method.
   * @returns A promise that resolves when the logout operation is complete.
   */
  async logout(): Promise&lt;void&gt; {
    const userId &#x3D; this.userData()?.userId;
    if (userId &amp;&amp; this.userData()?.provider !&#x3D;&#x3D; &#x27;anonymous&#x27;) 
      await this.logoutUser(userId);
    else if (this.userData()?.provider &#x3D;&#x3D;&#x3D; &#x27;anonymous&#x27;) 
      await this.logoutAnonymousUser();
  }


  /**
   * Logs out the user with the given user ID.
   * @param userId - The unique identifier of the user to be logged out.
   * @returns A promise that resolves when the logout operation is complete.
   */
  async logoutUser(userId: string): Promise&lt;void&gt; {
    try {
      await this.userService.updateDataInFirestore(userId, { status: false });
      await this.auth.signOut();
      this.clearAuthState();
      this.router.navigate([&#x27;&#x27;]);
      this.toastMessageService.showToastSignal(&#x27;Erfolgreich ausgeloggt&#x27;);
    } catch (error) {console.error(&#x27;[AuthService] Fehler beim Logout:&#x27;, error)}
  }


  /**
   * Logs out the current anonymous user.
   * It deletes the anonymous user object from Firestore, signs out the user, clears the authentication state, and navigates to the login page.
   * If an error occurs during the logout process, it logs the error to the console.
   * @returns A promise that resolves when the logout operation is complete.
   */
  async logoutAnonymousUser(): Promise&lt;void&gt; {
    try {
      this.userService.deleteAnonymousUserFromFirestore();
      await this.auth.signOut();
      this.clearAuthState();
      this.router.navigate([&#x27;&#x27;]);
      this.toastMessageService.showToastSignal(&#x27;Erfolgreich ausgeloggt&#x27;);
    } catch (error) {console.error(&#x27;[AuthService] Fehler beim anonymen Logout:&#x27;, error)}
  }


  /**
   * Loads the user data for the given user ID from Firestore and sets it to the &#x60;userData&#x60; observable.
   * @param userId - The ID of the user to load the data for.
   * @returns A promise that resolves when the user data is loaded from Firestore.
   */
  async loadUserData(userId: string): Promise&lt;void&gt; {
    try {
      const userDoc &#x3D; await getDoc(doc(this.firestore, &#x27;users&#x27;, userId));
      if (userDoc.exists()) {
        this.userData.set(userDoc.data() as UserModel);
        this.userService.setUserDataInStorage(userDoc.data() as UserModel);
      }
    } catch (error) {console.error(&#x27;Failed to load user data:&#x27;, error)}
  }


  /**
   * Returns an observable that emits the list of all users in the Firestore database.
   * When the list of users is received from Firestore, it stores the list in the &#x60;userList&#x60; observable and emits the list.
   * @returns An observable that emits the list of all users in the Firestore database.
   */
  public getUserList(): Observable&lt;UserModel[]&gt; {
    return new Observable((observer) &#x3D;&gt; {
      const userCollection &#x3D; collection(this.firestore, &#x27;users&#x27;);
      onSnapshot(userCollection,(snapshot) &#x3D;&gt; {
          const users: UserModel[] &#x3D; [];
          snapshot.forEach((doc) &#x3D;&gt; {users.push(doc.data() as UserModel);});
          this.userList.set(users);
          observer.next(users);
        },
        (error) &#x3D;&gt; {observer.error(error);}
      );
    });
  }


  /**
   * Redirects the user to the board route if the user is authenticated.
   * Otherwise, redirects the user to the root route.
   * This method is used to redirect the user after a successful login operation.
   * The redirect is delayed by 4 seconds to allow the user to see the login success message.
   */
  redirectIfAuthenticated(): void {
    if (this.auth.currentUser) 
      setTimeout(() &#x3D;&gt; {this.router.navigate([&#x27;/board&#x27;]);}, 4000);
    else 
      this.router.navigate([&#x27;/&#x27;]);
  }


  /**
   * Updates the user data in Firestore and in the Firebase Authentication service.
   * @param userId The ID of the user to update.
   * @param updatedData The data to update for the user.
   * @returns A promise that resolves when the user data is updated.
   */
  async updateUserData(userId: string, updatedData: Partial&lt;UserModel&gt;): Promise&lt;void&gt; {
    try {this.updateFireStoreData(userId, updatedData);} 
    catch (error) {
      console.error(&#x27;Fehler beim Aktualisieren der Benutzerdaten:&#x27;, error);
      this.toastMessageService.showToastSignal(&#x27;Fehler beim Aktualisieren der Benutzerdaten&#x27;);
    }
  }


  /**
   * Updates the user data in Firestore and in the Firebase Authentication service.
   * @param userId The ID of the user to update.
   * @param updatedData The data to update for the user.
   * @returns A promise that resolves when the user data is updated.
   */
  async updateFireStoreData(userId: string, updatedData: Partial&lt;UserModel&gt;) {
    const userDocRef &#x3D; doc(this.firestore, &#x60;users/${userId}&#x60;);
    await updateDoc(userDocRef, updatedData);
    const updatedUserDoc &#x3D; await getDoc(userDocRef);
    if (updatedUserDoc.exists()) {
      const updatedUserData &#x3D; updatedUserDoc.data() as UserModel;
      sessionStorage.setItem(&#x27;userData&#x27;, JSON.stringify(updatedUserData));
      this.userData.set(updatedUserData);
      const user &#x3D; this.auth.currentUser;
      if (user)
        this.userService.updateUserDataInDatabase(user,userId, updatedData);
      this.toastMessageService.showToastSignal(&#x27;Benutzerdaten erfolgreich aktualisiert&#x27;);
    }
  }
}</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'AuthService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
